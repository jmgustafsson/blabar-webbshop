{"remainingRequest":"C:\\Users\\ZXC\\Documents\\VS Code\\Skola 2020\\05Webbramverk\\Vue\\blabar-webbshop\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ZXC\\Documents\\VS Code\\Skola 2020\\05Webbramverk\\Vue\\blabar-webbshop\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\ZXC\\Documents\\VS Code\\Skola 2020\\05Webbramverk\\Vue\\blabar-webbshop\\src\\store\\index.js","dependencies":[{"path":"C:\\Users\\ZXC\\Documents\\VS Code\\Skola 2020\\05Webbramverk\\Vue\\blabar-webbshop\\src\\store\\index.js","mtime":1616512689000},{"path":"C:\\Users\\ZXC\\Documents\\VS Code\\Skola 2020\\05Webbramverk\\Vue\\blabar-webbshop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ZXC\\Documents\\VS Code\\Skola 2020\\05Webbramverk\\Vue\\blabar-webbshop\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\ZXC\\Documents\\VS Code\\Skola 2020\\05Webbramverk\\Vue\\blabar-webbshop\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKCi8qIGVzbGludC1kaXNhYmxlICovCmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCBzaG9wIGZyb20gJy4uL2FwaS9zaG9wJzsKVnVlLnVzZShWdWV4KTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICAvLyA9IGRhdGEKICAgIHByb2R1Y3RzOiBbXSwKICAgIC8vIHtpZCwgcXVhbnRpdHl9CiAgICBjYXJ0OiBbXSwKICAgIGNoZWNrb3V0U3RhdHVzOiBudWxsCiAgfSwKICBnZXR0ZXJzOiB7CiAgICAvLyA9IGNvbXB1dGVkIHByb3BlcnRpZXMKICAgIGF2YWlsYWJsZVByb2R1Y3RzOiBmdW5jdGlvbiBhdmFpbGFibGVQcm9kdWN0cyhzdGF0ZSwgZ2V0dGVycykgewogICAgICByZXR1cm4gc3RhdGUucHJvZHVjdHMuZmlsdGVyKGZ1bmN0aW9uIChwcm9kdWN0KSB7CiAgICAgICAgcmV0dXJuIHByb2R1Y3Q7CiAgICAgIH0pOwogICAgfSwKICAgIGNhcnRQcm9kdWN0czogZnVuY3Rpb24gY2FydFByb2R1Y3RzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5jYXJ0Lm1hcChmdW5jdGlvbiAoY2FydEl0ZW0pIHsKICAgICAgICB2YXIgcHJvZHVjdCA9IHN0YXRlLnByb2R1Y3RzLmZpbmQoZnVuY3Rpb24gKHByb2R1Y3QpIHsKICAgICAgICAgIHJldHVybiBwcm9kdWN0LmlkID09PSBjYXJ0SXRlbS5pZDsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgbmFtZTogcHJvZHVjdC5uYW1lLAogICAgICAgICAgcHJpY2U6IHByb2R1Y3QucHJpY2UsCiAgICAgICAgICBxdWFudGl0eTogY2FydEl0ZW0ucXVhbnRpdHkKICAgICAgICB9OwogICAgICB9KTsKICAgIH0sCiAgICBjYXJ0VG90YWw6IGZ1bmN0aW9uIGNhcnRUb3RhbChzdGF0ZSwgZ2V0dGVycykgewogICAgICByZXR1cm4gZ2V0dGVycy5jYXJ0UHJvZHVjdHMucmVkdWNlKGZ1bmN0aW9uICh0b3RhbCwgcHJvZHVjdCkgewogICAgICAgIHJldHVybiB0b3RhbCArIHByb2R1Y3QucHJpY2UgKiBwcm9kdWN0LnF1YW50aXR5OwogICAgICB9LCAwKTsKICAgIH0sCiAgICBjYXJ0UXVhbnRpdHk6IGZ1bmN0aW9uIGNhcnRRdWFudGl0eShzdGF0ZSwgZ2V0dGVycykgewogICAgICByZXR1cm4gZ2V0dGVycy5jYXJ0UHJvZHVjdHMucmVkdWNlKGZ1bmN0aW9uICh0b3RhbCwgcHJvZHVjdCkgewogICAgICAgIHJldHVybiB0b3RhbCArIHByb2R1Y3QucXVhbnRpdHk7CiAgICAgIH0sIDApOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgLy8gPSBtZXRob2RzCiAgICBmZXRjaFByb2R1Y3RzOiBmdW5jdGlvbiBmZXRjaFByb2R1Y3RzKF9yZWYpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIC8vIG1ha2UgdGhlIGNhbGwKICAgICAgICAvLyBydW4gc2V0UHJvZHVjdHMgbXV0YXRpb25zCiAgICAgICAgc2hvcC5nZXRQcm9kdWN0cyhmdW5jdGlvbiAocHJvZHVjdHMpIHsKICAgICAgICAgIGNvbW1pdCgic2V0UHJvZHVjdHMiLCBwcm9kdWN0cyk7CiAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGFkZFByb2R1Y3RUb0NhcnQ6IGZ1bmN0aW9uIGFkZFByb2R1Y3RUb0NhcnQoY29udGV4dCwgcHJvZHVjdCkgewogICAgICBpZiAocHJvZHVjdCkgewogICAgICAgIC8vIGZpbmQgY2FydEl0ZW0KICAgICAgICB2YXIgY2FydEl0ZW0gPSBjb250ZXh0LnN0YXRlLmNhcnQuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT09IHByb2R1Y3QuaWQ7CiAgICAgICAgfSk7CgogICAgICAgIGlmICghY2FydEl0ZW0pIHsKICAgICAgICAgIC8vIHB1c2hQcm9kdWN0VG9DYXJ0CiAgICAgICAgICBjb250ZXh0LmNvbW1pdCgicHVzaFByb2R1Y3RUb0NhcnQiLCBwcm9kdWN0LmlkKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gaW5jcmVtZW50SXRlbVF1YW50aXR5CiAgICAgICAgICBjb250ZXh0LmNvbW1pdCgiaW5jcmVtZW50SXRlbVF1YW50aXR5IiwgY2FydEl0ZW0pOwogICAgICAgIH0KCiAgICAgICAgY29udGV4dC5jb21taXQoImRlY3JlbWVudFByb2R1Y3RJbnZlbnRvcnkiLCBwcm9kdWN0KTsKICAgICAgfQogICAgfSwKICAgIGNoZWNrb3V0OiBmdW5jdGlvbiBjaGVja291dChfcmVmMikgewogICAgICB2YXIgc3RhdGUgPSBfcmVmMi5zdGF0ZSwKICAgICAgICAgIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgc2hvcC5idXlQcm9kdWN0cyhzdGF0ZS5jYXJ0LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgY29tbWl0KCJlbXB0eUNhcnQiKTsKICAgICAgICBjb21taXQoInNldENoZWNrb3V0U3RhdHVzIiwgInN1Y2Nlc3MiKTsKICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgIGNvbW1pdCgic2V0Q2hlY2tvdXRTdGF0dXMiLCAiZmFpbCIpOwogICAgICB9KTsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgc2V0UHJvZHVjdHM6IGZ1bmN0aW9uIHNldFByb2R1Y3RzKHN0YXRlLCBwcm9kdWN0cykgewogICAgICAvLyB1cGRhdGUgcHJvZHVjdHMKICAgICAgc3RhdGUucHJvZHVjdHMgPSBwcm9kdWN0czsKICAgIH0sCiAgICBwdXNoUHJvZHVjdFRvQ2FydDogZnVuY3Rpb24gcHVzaFByb2R1Y3RUb0NhcnQoc3RhdGUsIHByb2R1Y3RJZCkgewogICAgICBzdGF0ZS5jYXJ0LnB1c2goewogICAgICAgIGlkOiBwcm9kdWN0SWQsCiAgICAgICAgcXVhbnRpdHk6IDEKICAgICAgfSk7CiAgICB9LAogICAgaW5jcmVtZW50SXRlbVF1YW50aXR5OiBmdW5jdGlvbiBpbmNyZW1lbnRJdGVtUXVhbnRpdHkoc3RhdGUsIGNhcnRJdGVtKSB7CiAgICAgIGNhcnRJdGVtLnF1YW50aXR5Kys7CiAgICB9LAogICAgZGVjcmVtZW50UHJvZHVjdEludmVudG9yeTogZnVuY3Rpb24gZGVjcmVtZW50UHJvZHVjdEludmVudG9yeShzdGF0ZSwgcHJvZHVjdCkgewogICAgICBwcm9kdWN0LmludmVudG9yeS0tOwogICAgfSwKICAgIHNldENoZWNrb3V0U3RhdHVzOiBmdW5jdGlvbiBzZXRDaGVja291dFN0YXR1cyhzdGF0ZSwgc3RhdHVzKSB7CiAgICAgIHN0YXRlLmNoZWNrb3V0U3RhdHVzID0gc3RhdHVzOwogICAgfSwKICAgIGVtcHR5Q2FydDogZnVuY3Rpb24gZW1wdHlDYXJ0KHN0YXRlKSB7CiAgICAgIHN0YXRlLmNhcnQgPSBbXTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["C:/Users/ZXC/Documents/VS Code/Skola 2020/05Webbramverk/Vue/blabar-webbshop/src/store/index.js"],"names":["Vue","Vuex","shop","use","Store","state","products","cart","checkoutStatus","getters","availableProducts","filter","product","cartProducts","map","cartItem","find","id","name","price","quantity","cartTotal","reduce","total","cartQuantity","actions","fetchProducts","commit","Promise","resolve","reject","getProducts","addProductToCart","context","item","checkout","buyProducts","mutations","setProducts","pushProductToCart","productId","push","incrementItemQuantity","decrementProductInventory","inventory","setCheckoutStatus","status","emptyCart"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport shop from '../api/shop'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n    state: { // = data\n        products: [],\n        // {id, quantity}\n        cart: [],\n        checkoutStatus: null\n    },\n\n    getters: { // = computed properties\n        availableProducts(state, getters) {\n            return state.products.filter(product => product)\n        },\n\n        cartProducts(state) {\n            return state.cart.map(cartItem => {\n                const product = state.products.find(product => product.id === cartItem.id)\n                return {\n                    name: product.name,\n                    price: product.price,\n                    quantity: cartItem.quantity\n                }\n            })\n        },\n\n        cartTotal(state, getters) {\n            return getters.cartProducts.reduce((total, product) => total + product.price * product.quantity, 0)\n        },\n\n        cartQuantity(state, getters) {\n            return getters.cartProducts.reduce((total, product) => total + product.quantity, 0);\n        }\n    },\n\n    actions: { // = methods\n        fetchProducts({ commit }) {\n            return new Promise((resolve, reject) => {\n                // make the call\n                // run setProducts mutations\n                shop.getProducts((products) => {\n                    commit(\"setProducts\", products);\n                    resolve()\n                });\n            })\n        },\n\n        addProductToCart(context, product) {\n            if (product) {\n                // find cartItem\n                const cartItem = context.state.cart.find(item => item.id === product.id)\n                if (!cartItem) {\n                    // pushProductToCart\n                    context.commit(\"pushProductToCart\", product.id)\n                } else {\n                    // incrementItemQuantity\n                    context.commit(\"incrementItemQuantity\", cartItem)\n                }\n                context.commit(\"decrementProductInventory\", product)\n            }\n        },\n\n        checkout({ state, commit }) {\n            shop.buyProducts(\n                state.cart,\n                () => {\n                    commit(\"emptyCart\")\n                    commit(\"setCheckoutStatus\", \"success\")\n                },\n                () => {\n                    commit(\"setCheckoutStatus\", \"fail\")\n                }\n            )\n        }\n    },\n\n    mutations: {\n        setProducts(state, products) {\n            // update products\n            state.products = products\n        },\n\n        pushProductToCart(state, productId) {\n            state.cart.push({\n                id: productId,\n                quantity: 1\n            })\n        },\n\n        incrementItemQuantity(state, cartItem) {\n            cartItem.quantity++\n        },\n\n        decrementProductInventory(state, product) {\n            product.inventory--\n        },\n\n        setCheckoutStatus(state, status) {\n            state.checkoutStatus = status\n        },\n\n        emptyCart(state) {\n            state.cart = []\n        }\n    },\n})\n"]}]}